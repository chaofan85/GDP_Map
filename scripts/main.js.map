{"version":3,"sources":["webpack:///webpack/bootstrap 7a8ff23b981311db1330","webpack:///./scripts/app.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,8BAA8B;AAC9B;;;AAGA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,KAAK;AACL;;AAEA;AACA,gBAAgB,mBAAmB;AACnC,mBAAmB,iBAAiB;AACpC,oBAAoB,iBAAiB;AACrC,qBAAqB,iBAAiB;AACtC,sBAAsB,iBAAiB;AACvC,sBAAsB,iBAAiB;AACvC,uBAAuB,iBAAiB;AACxC;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,iDAAiD,QAAQ;AACzD;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,CAAC","file":"./scripts/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7a8ff23b981311db1330","$(function() {\n\n  const map = new Datamap({\n    element: document.getElementById('container'),\n    fills: {\n        LEVEL1: '#dbdd9b',\n        LEVEL2: '#9e8d5b',\n        LEVEL3: '#b3c691',\n        LEVEL4: '#518c00',\n        LEVEL5: '#ccc500',\n        LEVEL6: 'orange',\n        NORECORD: '#cecece',\n        defaultFill: '#cecece'\n    },\n    geographyConfig: {\n      borderColor: 'white',\n    },\n  });\n\n  let allData = [];\n  let gdpList;\n\n  function renderDataByYear(year) {\n    let count = 0;\n    for (var i = 0; i < 6; i++) {\n      fetchDataByYear(year, i+1).then(\n        payload => {\n          allData = allData.concat(payload[1]);\n          count++;\n\n          if (count===6) {\n            getGdpList(allData);\n            let renderedData = getFillKeys(allData);\n            let dataObj = toObject(renderedData);\n            renderMap(dataObj);\n          }\n        }\n      );\n    }\n  }\n\n  const getGdpList = (data) => {\n    let gdpArr = data.map(countryData => {\n      let code = codes[countryData.country.id];\n      return {\n        [code]: countryData.value/1000000000\n      };\n    });\n    gdpList = Object.assign({}, ...gdpArr);\n  };\n\n\n  function getFillKeys(data) {\n    return data.map(countryData => {\n      let code = codes[countryData.country.id];\n      return {\n        [code]: {fillKey: getFillKey((countryData.value/1000000000))}\n      };\n    });\n  }\n\n  function getFillKey(data) {\n    if (!data) { return \"NORECORD\"; }\n    if (data < 1) { return \"LEVEL1\"; }\n    if (data < 10) { return \"LEVEL2\"; }\n    if (data < 100) { return \"LEVEL3\"; }\n    if (data < 1000) { return \"LEVEL4\"; }\n    if (data < 5000) { return \"LEVEL5\"; }\n    if (data >= 5000) { return \"LEVEL6\"; }\n  }\n\n  function renderMap(data) {\n    map.updateChoropleth(data);\n  }\n\n  function toObject(arr) {\n    return Object.assign({}, ...arr);\n  }\n\n\n  function fetchDataByYear(year, page){\n    let data = {\n      format: 'json',\n      date: year,\n      page: page\n    };\n    return fetchData(data);\n  }\n\n\n  function fetchData(data) {\n    return $.ajax({\n      method: 'GET',\n      url: 'https://accesscontrolalloworiginall.herokuapp.com/http://api.worldbank.org/countries/all/indicators/NY.GDP.MKTP.CD',\n      dataType: 'json',\n      async: true,\n      data: data\n    });\n  }\n\n  let startYear = parseInt($('.slider').val());\n  $('.year').text(startYear);\n  renderDataByYear(startYear);\n\n\n  $('.slider').on('input', function(){\n    allData = [];\n    $('.year').val(parseInt(this.value));\n    renderDataByYear(parseInt(this.value));\n  });\n\n\n  $('svg path').on('mouseover', function() {\n    const countryAbbr = $(this).attr('class').substr(17,19);\n    const country = countries[countryAbbr];\n    const year = $('.year').val();\n    $('h3').text(country);\n    $('.data-year').text('YEAR: ' + year)\n\n    if (gdpList[countryAbbr]) {\n      let countryGdp = gdpList[countryAbbr].toFixed(2);\n      $(\".gdp span\").text('GDP: $'+countryGdp+'B');\n    } else {\n      $(\".gdp span\").text('No Record');\n    }\n\n    const url = `https://en.wikipedia.org/wiki/${country}`;\n    $(\".wiki\").html(\"<a href=\"+url+\" target='_blank'>See More Information</a>\");\n  });\n\n\n  $('.year-input').submit(function(e) {\n    allData = [];\n    e.preventDefault();\n    const year = parseInt($(\".year\").val());\n    $(\".slider\").val(year);\n    renderDataByYear(year);\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/app.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}